<h1>Sprint</h1>
<div class="pure-g-r">
	<div drop drop-type="sb" on-drop="fromSprintBacklog($itemId, $item)" class="pure-u-1-3 productbacklog">
        <h2>Product backlog</h2>
        <p>Filter: <input type="text" ng-model="pbFilter">
            <button class="pure-button completed" ng-click="pbStatus='Completed'">
                <i class="fa fa-check"></i>
            </button>
            <button class="pure-button in-progress" ng-click="pbStatus='In Progress'">
                <i class="fa fa-cogs"></i>
            </button>
            <button class="pure-button not-started" ng-click="pbStatus='Not Started'">
                <i class="fa fa-ban"></i>
            </button>
            <button class="pure-button" ng-click="pbStatus=''">
                <i class="fa fa-asterisk"></i>
            </button>
        </p>
        <div ng-repeat="(pbTaskId, pbTask) in pbTasks | toArray | orderBy: 'points':true | filter: pbFilter | filter: pbStatus">
            <div task-item ng-model="pbTask" drag drag-data="{{pbTask}}" drag-type="pb" drag-id="{{pbTask.Id}}" >
                <a ng-click="showEditTask(pbTask.Id, pbTask)"><i class="fa fa-cog"></i></a>
                <a ng-click="deleteTask(pbTask.Id)"><i class="fa fa-times"></i></a>
            </div>
        </div>
	</div>
	<div drop drop-type="pb" on-drop="toSprintBacklog($itemId, $item)" class="pure-u-1-3 sprintbacklog">
        <h2>Sprint backlog</h2>
        <p>Filter: <input type="text" ng-model="sbFilter">
            <button class="pure-button completed" ng-click="sbStatus='Completed'">
                <i class="fa fa-check"></i>
            </button>
            <button class="pure-button in-progress" ng-click="sbStatus='In Progress'">
                <i class="fa fa-cogs"></i>
            </button>
            <button class="pure-button not-started" ng-click="sbStatus='Not Started'">
                <i class="fa fa-ban"></i>
            </button>
            <button class="pure-button" ng-click="sbStatus=''">
                <i class="fa fa-asterisk"></i>
            </button>
        </p>
        <div ng-repeat="(sbTaskId, sbTask) in sbTasks | toArray | orderBy: 'points':true | filter: sbFilter | filter: sbStatus">
            <div task-item ng-model="sbTask" drag drag-data="{{sbTask}}" drag-type="sb" drag-id="{{sbTask.Id}}"></div>
        </div>
	</div>
	<div class="pure-u-1-3">
        <div ng-hide="viewEditTask">
            <h2>Create task</h2>
            <form role="form" class="pure-form pure-form-aligned" ng-submit="createTask()">
                <fieldset>
                    <div class="pure-control-group">
                        <label for="name">Name</label>
                        <input id="name" type="text" ng-model="newTask.name">
                    </div>
                    <div class="pure-control-group">
                        <label for="description">Description</label>
                        <input id="description" type="text" ng-model="newTask.description">
                    </div>
                    <div class="pure-control-group">
                        <label for="points">Points</label>
                        <input id="points" type="range" min="0" max="100" value="4" ng-model="newTask.points">
                    </div>
                    <div class="pure-controls">
                        <button class="pure-button pure-button-primary" type="submit">Create</button>
                    </div>
                </fieldset>
            </form>
        </div>
        <div ng-show="viewEditTask">
            <h2>Edit task</h2>
                        <form role="form" class="pure-form pure-form-aligned" ng-submit="updateTask()">
                <fieldset>
                    <div class="pure-control-group">
                        <label for="name">Name</label>
                        <input id="name" type="text" ng-model="task.name">
                    </div>
                    <div class="pure-control-group">
                        <label for="description">Description</label>
                        <input id="description" type="text" ng-model="task.description">
                    </div>
                    <div class="pure-control-group">
                        <label for="points">Points</label>
                        <input id="points" type="range" min="0" max="100" value="4" ng-model="task.points">
                    </div>
                    <div class="pure-controls">
                        <button class="pure-button pure-button-primary" type="submit">Update</button>
                        <button class="pure-button" ng-click="cancelEditTask()">Cancel</button>
                    </div>
                </fieldset>
            </form>
        </div>
	</div>
</div>